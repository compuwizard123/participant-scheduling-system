{% extends "main/base.html" %}

{% block title %}{% block description %}Experiments{% endblock %}{% endblock %}

{% block jquery %}
$("a.edit").button({
    icons: {
        primary: "ui-icon-pencil"
    }
});
$("a.experiment_dates").button({
    icons: {
        primary: "ui-icon-calendar"
    }
});
$("a.create").button({
    icons: {
        primary: "ui-icon-plus"
    }
});
$("a.cancel").button({
    icons: {
        primary: "ui-icon-cancel"
    }
});
{% endblock %}

{% block content %}
<h1>Experiments</h1>
{% if experiments %}
    <p><a href="{% url main-create_experiment %}" class="create">Create a new experiment</a></p>
    <table class="pretty">
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Researchers</th>
                <th>Room</th>
                <th>Qualifications</th>
                <th>Length (in minutes)</th>
                <th>Edit</th>
                <th>Experiment Dates</th>
            </tr>
        </thead>
        <tbody>
            {% for experiment in experiments %}
                <tr>
                    <td>{{ experiment.name }}</td>
                    <td>{{ experiment.description }}</td>
                    <td>{{ experiment.researchers.all|join:", " }}</td>
                    <td>{{ experiment.room }}</td>
                    <td>{{ experiment.qualifications.all|join:", " }}</td>
                    <td>{{ experiment.length }}</td>
                    <td><a href="{% url main-edit_experiment experiment.id %}" class="edit">Edit</a></td>
                    <td><a href="{% url main-list_experiment_dates experiment.id %}" class="experiment_dates">Experiment Dates</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>There are no experiments, yet.</p>
{% endif %}
<p><a href="{% url main-create_experiment %}" class="create">Create a new experiment</a></p>
<p><a href="{% url main-index %}" class="cancel">Cancel</a></p>
{% endblock %}